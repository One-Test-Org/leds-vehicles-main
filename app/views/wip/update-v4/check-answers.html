{% extends "layout-menu-new.html" %}

{% block pageTitle %}
Create new report – {{ serviceName }} – Law Enforcement Data Service
{% endblock %}

{% block beforeContent %}
<div id="banner-top">
  <a href="javascript:history.back()" class="govuk-back-link">Back</a>
</div>
{% endblock %}

{% block content %}

<div class="govuk-width-container" id="whole-form">
  <div class="govuk-caption-l">Create new police record</div>
  <h1 class="govuk-heading-l govuk-!-margin-bottom-8">Check before creating record</h1>
  <main class="govuk-main-wrapper " id="main-content" role="main">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-three-quarters-from-desktop">
        <div class="govuk-summary-card">
            <div class="govuk-summary-card__title-wrapper">
                <h2 class="govuk-summary-card__title">Vehicle details</h2>
                <ul class="govuk-summary-card__actions">
                    <li class="govuk-summary-card__action"> <a class="govuk-link" href="#">
                            Change<span class="govuk-visually-hidden"> Vehicle details</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="govuk-summary-card__content">
              <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    VRM
                  </dt>
                  <dd class="govuk-summary-list__value">
                    SG19705
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Make
                  </dt>
                  <dd class="govuk-summary-list__value">
                    BMW(CARS)
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Model
                  </dt>
                  <dd class="govuk-summary-list__value">
                    X5 SPORT
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Colour
                  </dt>
                  <dd class="govuk-summary-list__value">
                    BLUE
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Body type
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    VIN
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Engine number
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Engine capacity
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Registration date
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Transponder tag number
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
              </dl>
            </div>
        </div>

        <div class="govuk-summary-card">
            <div class="govuk-summary-card__title-wrapper">
                <h2 class="govuk-summary-card__title">Foreign marker</h2>
                <ul class="govuk-summary-card__actions">
                    <li class="govuk-summary-card__action"> <a class="govuk-link" href="#">
                            Change<span class="govuk-visually-hidden"> Foreign marker</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="govuk-summary-card__content">
              <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Foreign vehicle
                  </dt>
                  <dd class="govuk-summary-list__value">
                    Yes
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Vehicle's originating country
                  </dt>
                  <dd class="govuk-summary-list__value">
                    Switzerland
                  </dd>
                </div>
              </dl>
            </div>
        </div>

        <div class="govuk-summary-card">
            <div class="govuk-summary-card__title-wrapper">
                <h2 class="govuk-summary-card__title">Registered keeper details</h2>
                <ul class="govuk-summary-card__actions">
                    <li class="govuk-summary-card__action"> <a class="govuk-link" href="#">
                            Change<span class="govuk-visually-hidden"> Registered keeper details</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="govuk-summary-card__content">
              <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Full name
                  </dt>
                  <dd class="govuk-summary-list__value">
                    Bob Salmon
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Address line 1
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Address line 2
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Address line 3
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Post code
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
              </dl>
            </div>
        </div>

        <div class="govuk-summary-card">
            <div class="govuk-summary-card__title-wrapper">
                <h2 class="govuk-summary-card__title">Report type</h2>
                <ul class="govuk-summary-card__actions">
                    <li class="govuk-summary-card__action"> <a class="govuk-link" href="#">
                            Change<span class="govuk-visually-hidden"> Report type</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="govuk-summary-card__content">
              <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Report type
                  </dt>
                  <dd class="govuk-summary-list__value">
                    Lost/Stolen
                  </dd>
                </div>
              </dl>
            </div>
        </div>

        <div class="govuk-summary-card">
            <div class="govuk-summary-card__title-wrapper">
                <h2 class="govuk-summary-card__title">Report details</h2>
                <ul class="govuk-summary-card__actions">
                    <li class="govuk-summary-card__action"> <a class="govuk-link" href="#">
                            Change<span class="govuk-visually-hidden"> Report details</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="govuk-summary-card__content">
              <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Report owner
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['losCode'].slice(0,4) }}
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Report creator
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['losCreator'].slice(0,4) }}
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Reference number
                  </dt>
                  <dd class="govuk-summary-list__value">
                    {{ data['losRef'] }}
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Incident date (from)
                  </dt>
                  <dd class="govuk-summary-list__value">
                    05/06/2023
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Incident date (to)
                  </dt>
                  <dd class="govuk-summary-list__value">
                    -
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Report text
                  </dt>
                  <dd class="govuk-summary-list__value" style="text-transform:uppercase">
                    {{ data['losNotes'] }}
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Associated hazards
                  </dt>
                  <dd class="govuk-summary-list__value">
                    <strong class="govuk-tag govuk-tag--red govuk-!-margin-bottom-2" style="border-style: solid; border-left-width: 7px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-color: #942514">
                    Weapons
                    </strong>
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
                <div class="govuk-summary-list__row">
                  <dt class="govuk-summary-list__key">
                    Confirm report
                  </dt>
                  <dd class="govuk-summary-list__value">
                    Yes
                  </dd>
                  <dd class="govuk-summary-list__actions">
                  </dd>
                </div>
              </dl>
            </div>
        </div>

        <form action="./overview-created" id="form-submit" method="post" novalidate>
          <input class="govuk-input" id="los-time" name="losTime" style="display:none">
          <input type="hidden" name="answers-checked" value="true">
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--invisible">

        <div class="govuk-button-group">
          <button class="govuk-button" data-module="govuk-button" style="float:left">Submit</button>
            <a class="govuk-link govuk-link--no-visited-state" href="#">Cancel</a>
        </div>

        </form>
      </div>

      <div class="govuk-grid-column-one-quarter">
        <section class="app-summary-card">
          <header class="app-summary-card__header">
            <h2 class="app-summary-card__title">Your search justification</h2>
          </header>
          <div class="app-summary-card__body">
              <p class="govuk-body govuk-!-margin-top-2 govuk-!-margin-bottom-0">12/08/2023-DSM12124/12a</p>
          </div>
        </section>

      </div>
    </div>
  </main>
</div>

<div id="pending-submit" class="hidden" style="margin: 50px auto; text-align: center;">
    <h2 class="govuk-heading-l">Creating police record</h2>

    <div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
    <br /><br /><br /><br />
    <p style="">Please wait a few moments while we submit your request to PNC</p>

    <br /><br /><br /><br />
</div>

<script>
    setTimeout(() => {
        const wholeForm = document.getElementById('whole-form');
        const bannerTop = document.getElementById('banner-top');
        const form = document.getElementById('form-submit');
        const pending = document.getElementById('pending-submit');

        form.addEventListener('submit', onClick);

        function onClick(e) {
            window.scrollTo(0,0);
            e.preventDefault();

            pending.classList.remove('hidden');
            wholeForm.classList.add('hidden');
            bannerTop.classList.add('hidden');

            setTimeout(() => {
                form.removeEventListener('submit', onClick);
                form.submit();
            }, 5000);
        }
    }, 1000);


</script>

{% endblock %}
